(()=>{document.querySelector(".dropdown-select_portfolio");const e=document.querySelector(".dropdown-select__button"),t=document.querySelector(".dropdown-select__grid"),o=document.querySelector(".dropdown-select__list"),l=document.querySelectorAll(".dropdown-select__item"),c=document.querySelector(".dropdown-select__input");function r(){t.classList.remove("dropdown-select__grid_visible"),o.classList.remove("dropdown-select__list_visible")}localStorage.getItem("portfolio")&&(e.textContent=document.querySelector(`[data-value='${localStorage.getItem("portfolio")}']`).textContent,c.value=localStorage.getItem("portfolio"),document.querySelectorAll(".gallery__item").forEach((e=>{e.classList.add("gallery__item_hidden"),e.dataset.category&&e.dataset.category.includes(localStorage.getItem("portfolio"))&&e.classList.remove("gallery__item_hidden"),localStorage.getItem("portfolio")&&"all"==localStorage.getItem("portfolio")&&e.classList.remove("gallery__item_hidden")}))),e.addEventListener("click",(function(){t.classList.toggle("dropdown-select__grid_visible"),o.classList.toggle("dropdown-select__list_visible"),console.log(t),this.classList.add("dropdown-select__button_active")})),l.forEach((t=>{t.addEventListener("click",(function(o){o.stopPropagation(),e.textContent=this.textContent,e.focus(),r(),c.value=t.dataset.value,document.querySelectorAll(".gallery__item").forEach((e=>{e.classList.add("gallery__item_hidden"),e.dataset.category&&e.dataset.category.includes(c.value)&&e.classList.remove("gallery__item_hidden"),c.value&&"all"==c.value&&e.classList.remove("gallery__item_hidden")}))}))})),document.addEventListener("click",(function(t){t.target!=e&&(e.classList.remove("dropdown-select__button_active"),r())}))})();